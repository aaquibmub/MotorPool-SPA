<div class="page-actions"></div>
<div class="page-area">
  <div class="page-header">
    <div class="page-title">
      <span>Vehicle Body Inspection</span>
    </div>
    <div class="page-breadcrum">
      <span>Reports </span> / <span> Vehicle Body Inspection</span>
    </div>
  </div>
  <div class="page-body">
    <div class="grid-toolbar">
      <div class="left"></div>
      <div class="right" style="display: flex; justify-content: space-between">
        <button
          class="btn btn-orange"
          [useExistingCss]="true"
          [printTitle]="
            'Vehicle Sheet - (' +
            selectedVehicle?.text +
            '-' +
            (selectedDate | dateformat) +
            ')'
          "
          printSectionId="print-section"
          ngxPrint
        >
          <i class="fa fa-print"></i> Print
        </button>
      </div>
    </div>
    <div class="grid-content">
      <div class="row">
        <div class="col-3">
          <div class="form-group">
            <div class="label">
              <label for="vehicle">Vehicle</label>
            </div>
            <div class="control">
              <kendo-dropdownlist
                class="form-control"
                textField="text"
                valueField="value"
                [defaultItem]="utilityService.dropdownAllItem"
                (valueChange)="handleVehicleValueChange($event)"
                [data]="vehicleList"
                [(ngModel)]="selectedVehicle"
              >
                <ng-template kendoDropDownListItemTemplate let-dataItem>
                  <span>{{ dataItem.text | translate }}</span>
                </ng-template>
              </kendo-dropdownlist>
            </div>
          </div>
        </div>
        <div class="col-3">
          <div class="form-group">
            <div class="label">
              <label for="date">Date</label>
            </div>
            <div class="control">
              <kendo-datepicker
                class="form-control"
                id="date"
                (valueChange)="handleDateValueChange($event)"
                [(ngModel)]="selectedDate"
              >
              </kendo-datepicker>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12" *ngIf="!(model && model.length > 0)">
          <p class="p-24 text-center">No Data</p>
        </div>
        <div
          class="col-12"
          id="print-section"
          *ngIf="model && model.length > 0"
        >
          <!-- Vehicle Information -->
          <div
            class="form-section form-section-border"
            *ngFor="let vh of model"
          >
            <div class="section-body">
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <div class="label">
                      <label for="vehicleId">Vehicle Id</label>
                    </div>
                    <div class="control">
                      <input
                        type="text"
                        class="form-control"
                        name="vehicleId"
                        [value]="vh.vehicleId"
                        readonly
                        id="vehicleId"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <div class="label">
                      <label for="inputName">Plate Number</label>
                    </div>
                    <div class="control">
                      <input
                        type="text"
                        class="form-control"
                        name="inputName"
                        [value]="vh.vehiclePlateNumber"
                        readonly
                        id="inputName"
                      />
                    </div>
                  </div>
                </div>
              </div>

              <!-- Drivers -->
              <div
                class="form-section form-section-border"
                *ngFor="let v of vh.drivers"
              >
                <div class="section-header">{{ v.driver }}</div>
                <div class="section-body">
                  <div class="row">
                    <div class="col-md-3">
                      <div class="form-group">
                        <div class="label">
                          <label for="totalMilage">Driver</label>
                        </div>
                        <div class="control">
                          <input
                            type="text"
                            class="form-control"
                            name="totalMilage"
                            [value]="v.driver"
                            readonly
                            id="totalMilage"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-9">
                      <!-- Trips -->
                      <div class="row">
                        <div class="col-12">
                          <div
                            class="form-section form-section-border"
                            *ngFor="let t of v.inspections"
                          >
                            <div class="section-header">
                              {{ t.inspectionId }}
                            </div>
                            <div class="section-body">
                              <div class="display-flex flex-column">
                                <div class="sides" *ngFor="let s of t.sides">
                                  <div class="side display-flex flex-column">
                                    <h5 class="text-center">
                                      {{ s.side.text }}
                                    </h5>
                                    <img
                                      class="inspection-side-image center-content"
                                      *ngIf="s.side.value === side.frontId"
                                      usemap="#front"
                                      src="./../../../../../../assets/images/vehicles/inspections/body-front.png"
                                      alt=""
                                    />
                                    <map name="front">
                                      <area
                                        *ngFor="let item of s.items"
                                        shape="circle"
                                        [coords]="
                                          item.xaxis + ',' + item.yaxis + ',20'
                                        "
                                      />
                                    </map>
                                    <img
                                      class="inspection-side-image center-content"
                                      *ngIf="s.side.value === side.backId"
                                      usemap="#back"
                                      src="./../../../../../../assets/images/vehicles/inspections/body-back.png"
                                      alt=""
                                    />
                                    <map name="back">
                                      <area
                                        *ngFor="let item of s.items"
                                        shape="circle"
                                        [coords]="
                                          item.xaxis + ',' + item.yaxis + ',20'
                                        "
                                        href="coffee.htm"
                                      />
                                    </map>
                                    <img
                                      class="inspection-side-image center-content"
                                      *ngIf="s.side.value === side.leftId"
                                      usemap="#left"
                                      src="./../../../../../../assets/images/vehicles/inspections/body-left.png"
                                      alt=""
                                    />
                                    <map name="left">
                                      <area
                                        *ngFor="let item of s.items"
                                        shape="circle"
                                        [coords]="
                                          item.xaxis + ',' + item.yaxis + ',5'
                                        "
                                      />
                                    </map>
                                    <img
                                      class="inspection-side-image center-content"
                                      *ngIf="s.side.value === side.rightId"
                                      usemap="#right"
                                      src="./../../../../../../assets/images/vehicles/inspections/body-right.png"
                                      alt=""
                                    />
                                    <map name="right">
                                      <area
                                        *ngFor="let item of s.items"
                                        shape="circle"
                                        [coords]="
                                          item.xaxis + ',' + item.yaxis + ',5'
                                        "
                                      />
                                    </map>
                                    <img
                                      class="inspection-side-image center-content"
                                      *ngIf="s.side.value === side.roofId"
                                      usemap="#roof"
                                      src="./../../../../../../assets/images/vehicles/inspections/body-roof.png"
                                      alt=""
                                    />
                                    <map name="roof">
                                      <area
                                        *ngFor="let item of s.items"
                                        shape="circle"
                                        [coords]="
                                          item.xaxis + ',' + item.yaxis + ',5'
                                        "
                                      />
                                    </map>
                                    <!-- <div
                                        *ngFor="let item of s.items"
                                        [ngStyle]="{
                                          top: item.yaxis,
                                          left: item.xaxis
                                        }"
                                        class="box"
                                      >
                                        <div class="pin-text">
                                          <h3>
                                            {{ item.xaxis + "x" + item.yaxis }}
                                          </h3>
                                        </div>
                                      </div> -->
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
